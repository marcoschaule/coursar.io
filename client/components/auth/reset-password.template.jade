.wrapper
    a.btn.btn-link.no-hpadding(
            href="javascript:history.back()",
            alt="Back")
        |Back
    |&nbsp;&nbsp;|&nbsp;&nbsp;
    a.btn.btn-link.no-hpadding(
            data-ui-sref="home",
            alt="Back to Homepage")
        |Back to Homepage

.wrapper(data-ng-if="false === vm.states.passwordReset")
    form(name="vm.formResetPassword",
            data-ng-submit="vm.resetPassword()")

        .vmargin-2rem
        fieldset
            legend: h1 Reset Password
            
            .form-group.no-margin-bottom(data-ng-if="!vm.flags.isPasswordVisible")
                label(for="reset-password-new-password-hidden") Password:
                input#reset-password-new-password-hidden.form-control(
                        type="password",
                        name="resetPasswordNewPassword",
                        placeholder="Password",
                        data-ng-required="true",
                        data-ng-minlength="3",
                        data-ng-model="vm.modelResetPassword.password")
            
            .form-group.no-margin-bottom(data-ng-if="vm.flags.isPasswordVisible")
                label(for="reset-password-new-password-visible") Password:
                input#reset-password-new-password-visible.form-control(
                        type="text",
                        name="resetPasswordNewPassword",
                        placeholder="Password",
                        data-ng-required="true",
                        data-ng-minlength="3",
                        data-ng-model="vm.modelResetPassword.password")
            
            .form-group-addon.right
                a.btn.btn-link.no-padding(
                        data-ng-click="vm.flags.isPasswordVisible = !vm.flags.isPasswordVisible")
                    span(data-ng-if="!vm.flags.isPasswordVisible")
                        i.fa.fa-eye
                        |&nbsp;Show Password
                    span(data-ng-if="vm.flags.isPasswordVisible")
                        i.fa.fa-eye-slash
                        |&nbsp;Hide Password
            
        .vmargin-2rem  
        fieldset
            button.btn.btn-primary(
                    alt="Send Email",
                    data-ng-disabled="vm.formResetPassword.$invalid")
                |Change password

.wrapper(data-ng-if="true === vm.states.passwordReset")
    h1 Reset Password
    .text-success
        i.fa.fa-check
        span &nbsp;Password successfully changed. You can close this window now.

.wrapper(data-ng-if="'expired' === vm.states.passwordReset")
    h1 Session expired    
    .text-danger
        i.fa.fa-ban
        span &nbsp;Password reset session already expired. It is guilty for 5 minutes maximum and can only be used once!
    
.wrapper(data-ng-if="'error' === vm.states.passwordReset")
    h1 Reset Password
    .text-danger
        i.fa.fa-ban
        span &nbsp;A general error occurred. Please try again later.
    